@using odevkuafor.Models
@model AppointmentViewModel

<div class="container mt-4">
    <h2 class="mb-4">Randevu Oluştur</h2>

    <form asp-action="Create" method="post" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="CustomerName" class="form-label">Adınız:</label>
            <input type="text" class="form-control" id="CustomerName" asp-for="CustomerName" required />
            <span asp-validation-for="CustomerName" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label for="AppointmentDate" class="form-label">Randevu Tarihi:</label>
            <input type="datetime-local" class="form-control" id="AppointmentDate" asp-for="AppointmentDate" required />
            <span asp-validation-for="AppointmentDate" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label for="EmployeeId" class="form-label">Kuaför Seçin:</label>
            <select id="EmployeeId" asp-for="EmployeeId" class="form-select" required>
                <option value="">Kuaför Seçin</option>
                @if (Model?.Employees != null)
                {
                    @foreach (var employee in Model.Employees)
                    {
                        <option value="@employee.Id">@employee.Name</option>
                    }
                }
            </select>
            <span asp-validation-for="EmployeeId" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label for="ServiceId" class="form-label">Hizmet Seçin:</label>
            <select id="ServiceId" asp-for="ServiceId" class="form-select" required>
                <option value="">Hizmet Seçin</option>
                @if (Model?.Services != null)
                {
                    @foreach (var service in Model.Services)
                    {
                        <option value="@service.Id">@service.Name - @service.Price₺</option>
                    }
                }
            </select>
            <span asp-validation-for="ServiceId" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary">Randevu Oluştur</button>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}